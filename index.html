<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <title>OS_Office_ANN</title>
  <meta name="viewport" content="width=device-width, initial-scale=0.7" />
  <link rel="icon" type="image/png" sizes="32x32" href="https://i.imgur.com/7obx0vd.jpg">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400&display=swap">
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      background: linear-gradient(145deg, #0a0a0a, #1a1a1a);
      font-family: 'Roboto Mono', monospace;
      color: #e0e0e0;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 20px;
    }
    .container {
      background: rgba(20, 20, 20, 0.95);
      border-radius: 12px;
      padding: 40px;
      max-width: 700px;
      text-align: center;
    }
    .logo { width: 150px; margin-bottom: 20px; }
    h1 { font-size: 36px; color: #fff; margin-bottom: 10px; }
    h2 { font-size: 20px; color: #bbb; margin-bottom: 30px; }
    .btn { padding: 14px; font-size: 20px; border-radius: 8px; cursor: pointer; transition: all 0.3s ease; }
    .btn-on { background: linear-gradient(145deg, #28a745, #1e7e34); color: white; }
    .btn-off { background: linear-gradient(145deg, #e74c3c, #c0392b); color: white; }
    .btn-query { background: linear-gradient(145deg, #3498db, #2980b9); color: white; }
    .btn-test { background: linear-gradient(145deg, #f39c12, #e67e22); color: white; }
    .btn:hover { transform: translateY(-3px); }
    .btn-group { display: flex; gap: 16px; justify-content: center; }
    .overlay {
      position: fixed; top: 0; left: 0; width: 100%; height: 100%;
      background: rgba(0,0,0,0.85);
      display: flex; justify-content: center; align-items: center;
      z-index: 9999; display: none;
    }
    .modal {
      background: #222; padding: 24px; border-radius: 10px;
      max-width: 400px; color: #fff; text-align: center;
    }
    video { width: 100%; border-radius: 8px; margin-bottom: 20px; }
    .modal-buttons { display: flex; gap: 12px; justify-content: center; }
    .modal .btn { flex: 1; padding: 10px; font-size: 16px; border: none; border-radius: 6px; cursor: pointer; }
    .btn-confirm { background: #28a745; color: #fff; }
    .btn-confirm:hover { background: #1e7e34; }
  </style>
</head>
<body>
  <div class="container">
    <img class="logo" src="https://i.imgur.com/7obx0vd.jpg" alt="Logo">
    <h1>OS_Office_ANN</h1>
    <h2>請輸入身分證後四碼執行打卡</h2>
    <div class="btn-group">
      <button class="btn btn-on" id="btnOn">上班</button>
      <button class="btn btn-off" id="btnOff">下班</button>
      <button class="btn btn-query" id="btnQuery">查詢記錄</button>
      <button class="btn btn-test" id="btnTest">測試定位</button>
    </div>
  </div>

  <!-- 教學影片模態視窗 -->
  <div class="overlay" id="videoOverlay">
    <div class="modal">
      <h3>請使用支援的瀏覽器</h3>
      <p>請使用 Microsoft Edge、Chrome、Safari 或 Firefox，並參考以下影片說明：</p>
      <video controls>
        <source src="https://i.imgur.com/Wnemzxu.mp4" type="video/mp4">
        您的瀏覽器不支援影片播放，請至 <a href="https://imgur.com/Wnemzxu" target="_blank">這裡觀看</a>。
      </video>
      <div class="modal-buttons">
        <button id="closeVideo" class="btn btn-confirm">確定</button>
      </div>
    </div>
  </div>

  <script>
    // 檢測瀏覽器類型
    function detectBrowser(userAgent) {
      const ua = userAgent.toLowerCase();
      if (ua.includes("edg/")) return "Microsoft Edge";
      if (ua.includes("chrome/")) return "Chrome";
      if (ua.includes("safari/") && !ua.includes("chrome/")) return "Safari";
      if (ua.includes("firefox/")) return "Firefox";
      return null;
    }

    // 顯示教學影片模態視窗
    function showBrowserGuide() {
      document.getElementById("videoOverlay").style.display = "flex";
    }

    document.getElementById("closeVideo").addEventListener("click", () => {
      document.getElementById("videoOverlay").style.display = "none";
    });

    // 開始打卡動作，並檢查瀏覽器
    function startClockAction(action) {
      const currentBrowser = detectBrowser(navigator.userAgent);
      if (!currentBrowser) {
        showBrowserGuide(); // 觸發教學影片
        return;
      }
      alert(`執行 ${action} 打卡（模擬成功）`);
    }

    document.getElementById("btnOn").addEventListener("click", () => startClockAction("上班"));
    document.getElementById("btnOff").addEventListener("click", () => startClockAction("下班"));
    document.getElementById("btnQuery").addEventListener("click", () => alert("查詢記錄（模擬成功）"));
    document.getElementById("btnTest").addEventListener("click", () => alert("測試定位（模擬成功）"));
  </script>
</body>
</html>
